<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //   //尾递归
      //   function fib(n) {
      //     if (n < 2) return n
      //     return fib(n - 1) + fib(n - 2)
      //   }
      //   //尾递归优化
      //   function fib(n) {
      //     return fibm(0, 1, n)
      //   }

      //   function fibm(a, b, n) {
      //     if (n === 0) return a
      //     return fibm(b, a + b, n - 1)
      //   }

      //闭包实现私有变量
      //   class MyClass {
      //     constructor() {
      //       let a = undefined
      //       this.getA = () => {
      //         return a
      //       }
      //     }
      //   }

      //   let a = []
      //   a[2] = undefined
      //   a[4] = undefined
      //   console.log(a) //length为5
      //如何找出被复制的元素下标

      Function.prototype.myCall = function (context, ...arg) {
        //
        context = context | window
        const fn = Symbol()
        context[fn] = this
        const result = context[fn](...arg)
        delete context[fn]
        return result
      }

      Function.prototype.myApply = function (context, args) {
        context = context | window
        const fn = Symbol()
        context[fn] = this
        const result = context[fn](...args)
        delete context[fn]
        return result
      }

      Function.prototype.myBind = function () {
        const _this = this
        const args = Array.prototype.toString.call(arguments)
        return function (...arg2) {
          return _this.myCall(this, ...args, ...arg2)
        }
      }
    </script>
  </body>
</html>
